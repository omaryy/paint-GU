import java.awt.Color;
import java.awt.Graphics;
import java.awt.Polygon;

import java.awt.geom.Ellipse2D;
import java.awt.geom.Line2D;
import java.awt.geom.Rectangle2D;
import java.util.ArrayList;
import java.util.List;
     
/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 *
 * @author ELTAYEB
 */
public class mainform extends javax.swing.JFrame {

    /**
     * Creates new form mainform
     */
    public mainform() {
        initComponents();
    }
private int xstart;
private int ystart;
private int xend;
private int yend;
private Line2D linebuffer;
private Ellipse2D circbuffer;
private Rectangle2D rectanglebuffer;
private Rectangle2D squarebuffer;
private Ellipse2D Elipsebuffer;
private Polygon Trianglebuffer ;
private Graphics g2;
private List<Line2D> linecontainer=new ArrayList() ;
private List<Ellipse2D> circcontainer=new ArrayList();
private List<Ellipse2D> Elipsecontainer=new ArrayList<>();
private List<Rectangle2D> containRectangle=new ArrayList();
private List<Polygon> containertrainglr=new  ArrayList();
private List<Rectangle2D> containsquare=new ArrayList();

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        jRadioButton1 = new javax.swing.JRadioButton();
        jRadioButton2 = new javax.swing.JRadioButton();
        jRadioButton3 = new javax.swing.JRadioButton();
        jRadioButton4 = new javax.swing.JRadioButton();
        jRadioButton5 = new javax.swing.JRadioButton();
        jRadioButton6 = new javax.swing.JRadioButton();
        jButton1 = new javax.swing.JButton();
        canvas1 = new java.awt.Canvas();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jRadioButton1.setBackground(new java.awt.Color(102, 0, 102));
        buttonGroup1.add(jRadioButton1);
        jRadioButton1.setText("Line");
        jRadioButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButton1ActionPerformed(evt);
            }
        });

        jRadioButton2.setBackground(new java.awt.Color(102, 0, 102));
        buttonGroup1.add(jRadioButton2);
        jRadioButton2.setText("Circle");
        jRadioButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButton2ActionPerformed(evt);
            }
        });

        jRadioButton3.setBackground(new java.awt.Color(102, 0, 102));
        buttonGroup1.add(jRadioButton3);
        jRadioButton3.setText("Rectangle");

        jRadioButton4.setBackground(new java.awt.Color(102, 0, 102));
        buttonGroup1.add(jRadioButton4);
        jRadioButton4.setText("Traingle");

        jRadioButton5.setBackground(new java.awt.Color(102, 0, 102));
        buttonGroup1.add(jRadioButton5);
        jRadioButton5.setText("Elipse");

        jRadioButton6.setBackground(new java.awt.Color(153, 0, 153));
        buttonGroup1.add(jRadioButton6);
        jRadioButton6.setText("square");
        jRadioButton6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jRadioButton6ActionPerformed(evt);
            }
        });

        jButton1.setText("clear");
        jButton1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButton1MouseClicked(evt);
            }
        });
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        canvas1.setBackground(new java.awt.Color(255, 0, 255));
        canvas1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                canvas1MousePressed(evt);
            }
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                canvas1MouseReleased(evt);
            }
        });
        canvas1.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseDragged(java.awt.event.MouseEvent evt) {
                canvas1MouseDragged(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jRadioButton1)
                .addGap(18, 18, 18)
                .addComponent(jRadioButton2)
                .addGap(18, 18, 18)
                .addComponent(jRadioButton3)
                .addGap(18, 18, 18)
                .addComponent(jRadioButton4)
                .addGap(18, 18, 18)
                .addComponent(jRadioButton5)
                .addGap(18, 18, 18)
                .addComponent(jRadioButton6)
                .addGap(18, 18, 18)
                .addComponent(jButton1)
                .addGap(0, 0, Short.MAX_VALUE))
            .addComponent(canvas1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(canvas1, javax.swing.GroupLayout.PREFERRED_SIZE, 655, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jRadioButton1)
                    .addComponent(jRadioButton2)
                    .addComponent(jButton1)
                    .addComponent(jRadioButton3)
                    .addComponent(jRadioButton4)
                    .addComponent(jRadioButton5)
                    .addComponent(jRadioButton6)))
        );

        pack();
    }// </editor-fold>                        

    private void jRadioButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                              
        // TODO add your handling code here:
    }                                             

    private void jRadioButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                              
        // TODO add your handling code here:
    }                                             

    
    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         
        // TODO add your handling code here:
    }                                        

    private void canvas1MousePressed(java.awt.event.MouseEvent evt) {                                     
       if(g2==null)
       {
        g2= canvas1.getGraphics();
       }
        xstart=evt.getX();
        ystart=evt.getY();
        xend=evt.getX();
        yend=evt.getY();
       
        
    }                                    

    @SuppressWarnings("empty-statement")
    private void canvas1MouseDragged(java.awt.event.MouseEvent evt) {                                     
       if(jRadioButton1.isSelected())
       {
           canvas1.update(g2);
           xend=evt.getX();
           yend=evt.getY();
     
           linebuffer=new Line2D.Float((float)xstart,(float)ystart,(float)xend,(float)yend);
              Drawall();
          Line om=new Line(xstart, ystart,xend,yend); 
            om.setColor(Color.yellow);
            om.setFillColor(Color.yellow);
            om.draw(g2);
    
       }
       if(jRadioButton2.isSelected())
       {
            canvas1.update(g2);
           xend=evt.getX();
           yend=evt.getY();
           double radius =Math.pow(Math.pow((yend-ystart),2)+Math.pow(xend-xstart,2),0.5);
           circbuffer=new Ellipse2D.Float((float)xstart,(float)ystart,(float)radius,(float)radius);
           Drawall();
           Circle om=new Circle(radius, xstart, ystart);
           om.draw(g2);  
           
       }
       if(jRadioButton3.isSelected())
       {
       
           canvas1.update(g2);
           xend=evt.getX();
           yend=evt.getY();
           int x3;
           int y3;
           int x4;
           int y4;
           x3=xend;
           y3=ystart;
           x4=xstart;
           y4=yend;
           int x[]={xstart,x3,xend,x4};
           
           int y[]={ystart,y3,yend,y4};
           double height=Math.pow(Math.pow((y4-ystart),2)+Math.pow(x4-xstart,2),0.5);
           double width=Math.pow(Math.pow((y3-ystart),2)+Math.pow(x3-xstart,2),0.5);
           rectanglebuffer=new Rectangle2D.Float((float)xstart,(float) ystart,(float)width,(float)height);
         Drawall();
         Rect om=new Rect(xstart,ystart,(int)width,(int)height);
         om.draw(g2);
          
       }
              if(jRadioButton4.isSelected())
       {
           canvas1.update(g2);
           xend=evt.getX();
           yend=evt.getY();
           int x3=xstart-xend+xstart;
           int y3=yend;
           int x[]={xstart,x3,xend};
           int y[]={ystart,y3,yend};
           Trianglebuffer=new Polygon(x, y, 3);
           Drawall();
           Tria om=new Tria(x,y);
           om.draw(g2);
           
       }
       
       if(jRadioButton5.isSelected())
       {
           canvas1.update(g2);
           xend=evt.getX()-xstart;
           yend=evt.getY()-ystart;
           Elipsebuffer=new Ellipse2D.Float((float)xstart,(float)ystart,(float)xend,(float)yend);
           Drawall();
           Elipse om=new Elipse(xstart, ystart, xend, yend);
           om.draw(g2);       
       }

       if(jRadioButton6.isSelected())
       {
           canvas1.update(g2);
           xend=evt.getX();
           yend=evt.getY();
           int x3;
           int y3;
           int x4;
           int y4;
           x3=xend;
           y3=ystart;
           x4=xstart;
           y4=yend;
           int x[]={xstart,x3,xend,x4};
           
           int y[]={ystart,y3,yend,y4};
           double height=Math.pow(Math.pow((y4-ystart),2)+Math.pow(x4-xstart,2),0.5);
          
           squarebuffer=new Rectangle2D.Float((float)xstart,(float) ystart,(float)height,(float)height);
         Drawall();
         square om=new square(xstart,ystart,(int)height);
         om.draw(g2);
          
           
       }
                
    }                                    

    private void canvas1MouseReleased(java.awt.event.MouseEvent evt) {                                      
   if(jRadioButton1.isSelected())
   {
        canvas1.update(g2);
           xend=evt.getX();
           yend=evt.getY();
       linebuffer=new Line2D.Float((float)xstart,(float)ystart,(float)xend,(float)yend);
       linecontainer.add(linebuffer);
       Drawall();
   }
   if(jRadioButton2.isSelected())
   {
       
       canvas1.update(g2);
           xend=evt.getX();
           yend=evt.getY();
           double radius =Math.pow(Math.pow((yend-ystart),2)+Math.pow(xend-xstart,2),0.5);
           circbuffer=new Ellipse2D.Float((float)xstart,(float)ystart,(float)radius,(float)radius);
       circcontainer.add(circbuffer);
       Drawall();
       
   }
   if(jRadioButton3.isSelected())
   {
       canvas1.update(g2);
       xend=evt.getX();
       yend=evt.getY();
       int x3;
           int y3;
           int x4;
           int y4;
           x3=xend;
           y3=ystart;
           x4=xstart;
           y4=yend;
           int x[]={xstart,x3,xend,x4};
           
           int y[]={ystart,y3,yend,y4};
           double height=Math.pow(Math.pow((y4-ystart),2)+Math.pow(x4-xstart,2),0.5);
           double width=Math.pow(Math.pow((y3-ystart),2)+Math.pow(x3-xstart,2),0.5);
            rectanglebuffer =new Rectangle2D.Float((float)xstart,(float) ystart, (float)width,(float)height);
            containRectangle.add(rectanglebuffer);
            Drawall();
   }
   if(jRadioButton4.isSelected())
   {
       canvas1.update(g2);
       xend=evt.getX();
       yend=evt.getY();
     int x3=xstart-xend+xstart;
     int y3=yend;
           int x[]={xstart,x3,xend};
           int y[]={ystart,y3,yend};
            Trianglebuffer=new Polygon(x, y, 3);
            containertrainglr.add(Trianglebuffer);
            Drawall();          
   }
   
   
   if(jRadioButton5.isSelected())
   {
       canvas1.update(g2);
       xend=evt.getX()-xstart;
       yend=evt.getY()-ystart;
       Elipsebuffer=new Ellipse2D.Float((float)xstart,(float)ystart,(float)xend,(float)yend);
       Elipsecontainer.add(Elipsebuffer);
       Drawall();
   }
   if(jRadioButton6.isSelected())
   {
        canvas1.update(g2);
           xend=evt.getX();
           yend=evt.getY();
           int x3;
           int y3;
           int x4;
           int y4;
           x3=xend;
           y3=ystart;
           x4=xstart;
           y4=yend;
           int x[]={xstart,x3,xend,x4};
           
           int y[]={ystart,y3,yend,y4};
           double height=Math.pow(Math.pow((y4-ystart),2)+Math.pow(x4-xstart,2),0.5);
           squarebuffer=new Rectangle2D.Float((float)xstart,(float) ystart,(float)height,(float)height);
        containsquare.add(squarebuffer);
           Drawall();    
       
   }
    }                                     

    private void jButton1MouseClicked(java.awt.event.MouseEvent evt) {                                      
    canvas1.update(g2);
    linecontainer.clear();
    circcontainer.clear();
    }                                     

    private void jRadioButton6ActionPerformed(java.awt.event.ActionEvent evt) {                                              
        // TODO add your handling code here:
    }                                             
private void Drawall()
{
    for(int i=0;i<linecontainer.size();i++)
    {
        
        g2.drawLine((int)linecontainer.get(i).getX1(),(int)linecontainer.get(i).getY1(),(int)linecontainer.get(i).getX2(),(int)linecontainer.get(i).getY2());
    }
    for(int i=0;i<circcontainer.size();i++)
    {
        g2.drawOval((int)circcontainer.get(i).getX(),(int)circcontainer.get(i).getY(),(int)circcontainer.get(i).getWidth(),(int)circcontainer.get(i).getWidth());
    }
    for(int i=0;i<containRectangle.size() ;i++)
    {
        g2.drawRect((int)containRectangle.get(i).getX(),(int)containRectangle.get(i).getY(), (int)containRectangle.get(i).getWidth(), (int)containRectangle.get(i).getHeight());
    }
    for(int i=0;i<Elipsecontainer.size();i++)
    {
        g2.drawOval((int)Elipsecontainer.get(i).getX(),(int)Elipsecontainer.get(i).getY(),(int)Elipsecontainer.get(i).getWidth(),(int)Elipsecontainer.get(i).getHeight());
    }
    for(int i=0;i<containertrainglr.size();i++)
    {
        g2.drawPolygon(containertrainglr.get(i).xpoints,containertrainglr.get(i).ypoints, 3);
    }
    for(int i=0;i<containsquare.size();i++)
    {
        g2.drawRect((int)containsquare.get(i).getX(),(int)containsquare.get(i).getY(),(int)containsquare.get(i).getHeight(),(int)containsquare.get(i).getHeight());
    }
    
} 
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(mainform.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(mainform.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(mainform.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(mainform.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new mainform().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private javax.swing.ButtonGroup buttonGroup1;
    private java.awt.Canvas canvas1;
    private javax.swing.JButton jButton1;
    private javax.swing.JRadioButton jRadioButton1;
    private javax.swing.JRadioButton jRadioButton2;
    private javax.swing.JRadioButton jRadioButton3;
    private javax.swing.JRadioButton jRadioButton4;
    private javax.swing.JRadioButton jRadioButton5;
    private javax.swing.JRadioButton jRadioButton6;
    // End of variables declaration                   
}
